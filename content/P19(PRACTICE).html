<!DOCTYPE html><html>
        <head>
        <title>CMSiMDE</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700,900" rel="stylesheet">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/fonts/icomoon/style.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/bootstrap.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/magnific-popup.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/jquery-ui.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/owl.carousel.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/owl.theme.default.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/bootstrap-datepicker.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/fonts/flaticon/font/flaticon.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/aos.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/style.css">
        <link rel="shortcut icon" href="./../cmsimde/static/favicons.png">
        
        <style type='text/css'>
            .site-section {
            background-color: #FFFF;
            padding: 40px 40px;
            }
            body > div > div.dropdown.open {
                display: block;
            }
        </style>
    
        <!-- <script src="./../cmsimde/static/jquery.js"></script> -->
        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
        <script src="../cmsimde/static/chimper/js/jquery-3.3.1.min.js"></script>
        <link rel="stylesheet" href="./../cmsimde/static/tipuesearch/css/normalize.min.css">
        <script src="./../cmsimde/static/tipuesearch/tipuesearch_set.js"></script>
        <script src="tipuesearch_content.js"></script>
        <link rel="stylesheet" href="./../cmsimde/static/tipuesearch/css/tipuesearch.css">
        <script src="./../cmsimde/static/tipuesearch/tipuesearch.js"></script>
        <script>
            /* original tipuesearch
            $(document).ready(function() {
                 $('#tipue_search_input').tipuesearch();
            });
            */
            // customed doSearch
            function doSearch() {
                $('#tipue_search_input').tipuesearch({
                    newWindow: true, 
                    minimumLength: 2,
                    wholeWords: false, // for search 中文
                });
            }
            $(document).ready(doSearch);
        </script>
        
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushBash.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushDiff.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushHaxe.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushLua.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCSharp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushDart.js"></script>
<link type="text/css" rel="stylesheet" href="./../cmsimde/static/syntaxhighlighter/css/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<!-- 暫時不用
<script src="./../cmsimde/static/fengari-web.js"></script>
<script type="text/javascript" src="./../cmsimde/static/Cango-13v08-min.js"></script>
<script type="text/javascript" src="./../cmsimde/static/CangoAxes-4v01-min.js"></script>
<script type="text/javascript" src="./../cmsimde/static/gearUtils-05.js"></script>
-->
<!-- for Brython 暫時不用
<script src="https://scrum-3.github.io/web/brython/brython.js"></script>
<script src="https://scrum-3.github.io/web/brython/brython_stdlib.js"></script>
-->
<style>
img.add_border {
    border: 3px solid blue;
}
</style>

</head>
<body>
<div class='container'><nav>
        
    <div class="site-wrap">

    <div class="site-mobile-menu">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>
    
            <header class="site-navbar py-4 bg-white" role="banner">
              <div class="container-fluid">
                <div class="row align-items-center">
                <h1>40923109 cp2020</h1>
                <div class="pl-4">
                    <form>
                    <input type="text" placeholder="Search" name="q" id="tipue_search_input" pattern=".{2,}" title="At least 2 characters" required>
                    </form>
                </div>
                  <!-- <div class="col-11 col-xl-2">
                    <h1 class="mb-0 site-logo"><a href="index.html" class="text-black h2 mb-0">40923109 cp2020</a></h1> 
                  </div>
                  -->
                  <div class="col-12 col-md-10 d-none d-xl-block">
                    <nav class="site-navigation position-relative text-right" role="navigation">
    <ul class='site-menu js-clone-nav mr-auto d-none d-lg-block'>
                        <li class="active has-children"><a href="index.html">Home</a>
                        <ul class="dropdown">
                            <li><a href="sitemap.html">Site Map</a></li>
                            <li><a href="./../reveal/index.html">reveal</a></li>
                            <li><a href="./../blog/index.html">blog</a></li>
                        </ul>
                      </li>
                     <li class='has-children'><a href='About.html'>About</a><ul class='dropdown'><li><a href='Develop.html'>Develop</a></li></ul><li><a href='首頁.html'>首頁</a><li><a href='.html'></a><li class='has-children'><a href='HW1 PC Hardware (Open + Free) Unit5-Notebooks and Laptops.html'>HW1 PC Hardware (Open + Free) Unit5-Notebooks and Laptops</a><ul class='dropdown'><li class='has-children'><a href='PCH17-Notebook Features and Components P.121.html'>PCH17-Notebook Features and Components P.121</a><ul class='dropdown'><li><a href='Overview--1.html'>Overview--1</a><li><a href='Laptops and Notebooks-.html'>Laptops and Notebooks-</a></li></ul><li class='has-children'><a href='PCH17-Installing and Configuring Laptop Hardware.html'>PCH17-Installing and Configuring Laptop Hardware</a><ul class='dropdown'><li><a href='Expansion-.html'>Expansion-</a></li></ul><li class='has-children'><a href='PCH17-Notebook Features.html'>PCH17-Notebook Features</a><ul class='dropdown'><li><a href='Laptop Displays-.html'>Laptop Displays-</a><li><a href='Device Replacement-.html'>Device Replacement-</a></li></ul><li class='has-children'><a href='PCH18-Laptop and Notebook Component Replacement.html'>PCH18-Laptop and Notebook Component Replacement</a><ul class='dropdown'><li><a href='Overview--2.html'>Overview--2</a><li><a href='Notebook Hard Drives-.html'>Notebook Hard Drives-</a><li><a href='Memory-.html'>Memory-</a></li></ul><li><a href='PCH18-Troubleshooting Hard Drives.html'>PCH18-Troubleshooting Hard Drives</a><li><a href='PCH19-Notebook Power and Physical Security.html'>PCH19-Notebook Power and Physical Security</a><li class='has-children'><a href='PCH19-Overview.html'>PCH19-Overview</a><ul class='dropdown'><li><a href='Battery Types-.html'>Battery Types-</a></li></ul><li><a href='PCH19-AC Power.html'>PCH19-AC Power</a><li><a href='PCH19-Proper Disposal Procedures.html'>PCH19-Proper Disposal Procedures</a><li><a href='PCH19-Security.html'>PCH19-Security</a></li></ul><li class='has-children'><a href='HW3 (AISE) LL EXERC.html'>HW3 (AISE) LL EXERC</a><ul class='dropdown'><li><a href='P19.html'>P19</a><li><a href='P20.html'>P20</a><li><a href='P21.html'>P21</a><li><a href='P19(PRACTICE).html'>P19(PRACTICE)</a><li><a href='P20(PRACTICE).html'>P20(PRACTICE)</a><li><a href='P21(PRACTICE).html'>P21(PRACTICE)</a></li>
                      </ul>
                </nav>
              </div>
              <div class="d-inline-block d-xl-none ml-md-0 mr-auto py-3" style="position: relative; top: 3px;"><a href="#" class="site-menu-toggle js-menu-toggle text-black"><span class="icon-menu h3"></span></a></div>
              </div>

            </div>
          </div>
          
        </header>
    <div id="tipue_search_content">P21 << <a href='P21.html'>Previous</a> <a href='P20(PRACTICE).html'>Next</a> >> P20(PRACTICE)<br /><h1>P19(PRACTICE)</h1>
<p><span></span></p>
<h4><span></span></h4>
<h4><span>Decode A Web Page Two Solution  </span></h4>
<h4><span></span>Exercise 19</h4>
<p><span></span></p>
<p>The<span> </span><a href="https://www.practicepython.org/exercise/2014/07/14/19-decode-a-web-page-two.html">How To Decode A Web Page Two</a><span> </span>exercise was a follow-up to the extremely challenging prelude,<span> </span><a href="https://www.practicepython.org/exercise/2014/06/06/17-decode-a-web-page.html">How To Decode A Web Page</a>. The purpose of the original (and the follow-up exercise) was to give people a chance to poke around at a close-to-real application of Python.</p>
<p>A few people submitted solutions to this exercise (one example is given at the bottom of the page), and many of them used things that I haven’t yet talked about in the exercises. I will not go into extreme detail about how to solve this problem - I will just present the important points for one way you could solve this problem. For a more detailed solution to a similar problem, I encourage you to look at the<span> </span><a href="https://www.practicepython.org/solution/2014/07/10/17-decode-a-web-page-solutions.html">solution to the previous exercise (How To Decode A Web Page)</a>.</p>
<p>And without further ado, a plan for achieving the solution:</p>
<p>1.Use the<span> </span><code class="highlighter-rouge">requests</code><span> </span>library to load the HTML of the page into Python</p>
<p>2.Find out which HTML tags contain the article text</p>
<p>3.Use<span> </span><code class="highlighter-rouge">BeautifulSoup</code><span> </span>to process HTML and extract the text of the article</p>
<p>4.Print the extracted text to the screen</p>
<p>In my opinion, the difficult part of this exercise is figuring out the elements on the page (whether that is through HTML or CSS selectors) that contain all the text of the article. It requires knowing or exploring a little bit about CSS selectors and reading documentation. Such is the way of working with web pages.</p>
<p>A few observations on that point:</p>
<ul>
<li>The entire text of the article is on this single page - no need to move to another URL. The text is placed inside “hidden containers” that are just set to invisible.</li>
<li>It seems that article text comes inside<span> </span><code class="highlighter-rouge">p</code><span> </span>elements that are inside<span> </span><code class="highlighter-rouge">div</code><span> </span>elements of class<span> </span><code class="highlighter-rouge">body</code><span> </span>that are inside<span> </span><code class="highlighter-rouge">div</code><span> </span>elements that have classes<span> </span><code class="highlighter-rouge">parbase</code><span> </span>and<span> </span><code class="highlighter-rouge">cn_text</code>. But it also seems that there are other things like hyperlinks and article comments also fall inside this structure.</li>
<li>When you select for this in<span> </span><code class="highlighter-rouge">BeautifulSoup</code>, the first 7 elements that come out are links and the introduction, so we just want to ignore those.</li>
</ul>
<p>Given these observations, this solution:</p>
<pre>import requests
from bs4 import BeautifulSoup

base_url = "http://www.vanityfair.com/society/2014/06/monica-lewinsky-humiliation-culture"
r = requests.get(base_url)
soup = BeautifulSoup(r.text)

all_p_cn_text_body = soup.select("div.parbase.cn_text &gt; div.body &gt; p")

for elem in all_p_cn_text_body[7:]:
  print(elem.text)</pre>
<p><span></span></p>
<p>prints to the screen the full text of the article.</p>
<p>The CSS selectors are complex, and it takes some practice to get comfortable with them. We’ll re-visit this later (perhaps much later), but for now I encourage you to poke around the internet and look at sources of websites, playing with<span> </span><code class="highlighter-rouge">BeautifulSoup</code><span> </span>and figuring out how CSS selectors behave.</p>
<p>Here is an example of a user-submitted solution that is not completely automated, and that does not use the exact article specified. However, it does show you that you can start solving your own problems using the techniques I am talking about on this blog.</p>
<p><span></span></p>
<pre>"""
Using the requests and BeautifulSoup Python libraries, print to the screen the full text of the
article on this website: http://www.vanityfair.com/society/2014/06/monica-lewinsky-humiliation-culture.
http://www.practicepython.org/exercise/2014/07/14/19-decode-a-web-page-two.html
"""

import requests
from bs4 import BeautifulSoup

def print_to_text(base_url):
    """
    :param base_url: URL of article to scrape
    :return: naked content to text file
    """
    r = requests.get(base_url)
    soup = BeautifulSoup(r.text)
    with open("work less.txt", "w") as textfile:
        for paragraph in soup.find_all(dir="ltr"):
            textfile.write(paragraph.text.replace("&lt;span&gt;",""))

if __name__ == "__main__":
    #Chose my own article
    base_url = "http://www.theatlantic.com/business/archive/2014/08/to-work-better-work-less/375763/"
    base_url2 = "http://www.theatlantic.com/business/archive/2014/08/to-work-better-work-less/375763/2/"
    print_to_text(base_url)
    print_to_text(base_url2)<br/><br/><br/></pre>
<h4 class="tw-data-text tw-text-large XcVN5d tw-ta" data-placeholder="翻譯" dir="ltr" id="tw-target-text"><span lang="zh-TW">解碼網頁的兩種解決方案</span></h4>
<h4><span>練習19</span></h4>
<p><span></span></p>
<pre class="tw-data-text tw-text-large XcVN5d tw-ta" data-placeholder="翻譯" dir="ltr" id="tw-target-text"><span lang="zh-TW">如何對網頁進行解碼第二個練習是對極富挑戰性的前奏：如何對網頁進行解碼的後續工作。原始（和後續練<br/>習）的目的是使人們有機會在一個接近真實的Python應用程序中四處摸索。

一些人提交了此練習的解決方案（頁面底部提供了一個示例），其中許多人使用的是我在練習中尚未談到的<br/>內容。我不會詳細介紹如何解決此問題-我僅介紹要點來解決這一問題的要點。有關類似問題的更詳細解決方<br/>案，建議您看一下上一練習（如何解碼網頁）的解決方案。</span></pre>
<p><span></span></p>
<pre class="tw-data-text tw-text-large XcVN5d tw-ta" data-placeholder="翻譯" dir="ltr" id="tw-target-text"><span lang="zh-TW">事不宜遲，實現解決方案的計劃是：</span></pre>
<p>1.<span lang="zh-TW">使用請求庫將頁面的HTML加載到Python中</span></p>
<p>2.<span lang="zh-TW">找出哪些HTML標記包含文章文字</span></p>
<p>3.<span lang="zh-TW">使用BeautifulSoup處理HTML並提取文章文本</span></p>
<p>4.<span lang="zh-TW">將提取的文本打印到屏幕上</span></p>
<p><span></span></p>
<pre class="tw-data-text tw-text-large XcVN5d tw-ta" data-placeholder="翻譯" dir="ltr"><span lang="zh-TW">我認為，此練習的困難之處在於找出頁面上包含文章所有文本的元素（無論是通過HTML還是CSS選擇器）。它<br/>需要了解或探索一些有關CSS選擇器的知識並閱讀文檔。這是處理網頁的方式。

關於這一點的一些觀察：<br/></span></pre>
<ul>
<li><span>文章的全文在此頁面上-無需移動到另一個URL。文本放在“隱藏容器”中，這些容器只是設置為不可見。</span></li>
<li>
<pre class="tw-data-text tw-text-large XcVN5d tw-ta" data-placeholder="翻譯" dir="ltr" id="tw-target-text"><span lang="zh-TW">似乎文章文本位於類主體的div元素內的p元素內，而p元素位於具有parbase和cn_text類的div元素</span></pre>
</li>
<li>
<pre class="tw-data-text tw-text-large XcVN5d tw-ta" data-placeholder="翻譯" dir="ltr" id="tw-target-text"><span lang="zh-TW">內。但是似乎還存在諸如超鏈接和文章註釋之類的其他內容。</span></pre>
</li>
<li>
<pre class="tw-data-text tw-text-large XcVN5d tw-ta" data-placeholder="翻譯" dir="ltr" id="tw-target-text"><span lang="zh-TW">當您在BeautifulSoup中為此選擇時，出現的前7個元素是鏈接和簡介，因此我們只想忽略它們。</span></pre>
</li>
</ul>
<pre class="tw-data-text tw-text-large XcVN5d tw-ta" data-placeholder="翻譯" dir="ltr"><span lang="zh-TW"> </span></pre>
<pre class="tw-data-text tw-text-large XcVN5d tw-ta" data-placeholder="翻譯" dir="ltr"><span lang="zh-TW">鑑於這些觀察，該解決方案：<br/></span></pre>
<pre>import requests
from bs4 import BeautifulSoup

base_url = "http://www.vanityfair.com/society/2014/06/monica-lewinsky-humiliation-culture"
r = requests.get(base_url)
soup = BeautifulSoup(r.text)

all_p_cn_text_body = soup.select("div.parbase.cn_text &gt; div.body &gt; p")

for elem in all_p_cn_text_body[7:]:
  print(elem.text)<br/><br/></pre>
<pre class="tw-data-text tw-text-large XcVN5d tw-ta" data-placeholder="翻譯" dir="ltr" id="tw-target-text"><span lang="zh-TW"><span>在屏幕上顯示文章的全文。 CSS選擇器很複雜，需要一些練習才能適應它們。我們稍後（也許以後）會再次<br/>進行討論，但現在，我鼓勵您在Internet上瀏覽並查看網站資源，與BeautifulSoup一起玩並弄清楚CSS選<br/>擇器的行為。 <br/><br/>這是一個用戶提交的解決方案的示例，該解決方案不是完全自動化的，並且沒有使用指定的確切文章。但是<br/>，它的確表明您可以使用我在此博客上談論的技術開始解決自己的問題。</span></span></pre>
<pre>"""
Using the requests and BeautifulSoup Python libraries, print to the screen the full text of the
article on this website: http://www.vanityfair.com/society/2014/06/monica-lewinsky-humiliation-culture.
http://www.practicepython.org/exercise/2014/07/14/19-decode-a-web-page-two.html
"""

import requests
from bs4 import BeautifulSoup

def print_to_text(base_url):
    """
    :param base_url: URL of article to scrape
    :return: naked content to text file
    """
    r = requests.get(base_url)
    soup = BeautifulSoup(r.text)
    with open("work less.txt", "w") as textfile:
        for paragraph in soup.find_all(dir="ltr"):
            textfile.write(paragraph.text.replace("&lt;span&gt;",""))

if __name__ == "__main__":
    #Chose my own article
    base_url = "http://www.theatlantic.com/business/archive/2014/08/to-work-better-work-less/375763/"
    base_url2 = "http://www.theatlantic.com/business/archive/2014/08/to-work-better-work-less/375763/2/"
    print_to_text(base_url)
    print_to_text(base_url2</pre>
<p><span></span></p>
<p></p>
<br />P21 << <a href='P21.html'>Previous</a> <a href='P20(PRACTICE).html'>Next</a> >> P20(PRACTICE)</div>
        
    <!-- footer -->
      <div class="container">
        <div class="row pt-3 mx-auto">
            <p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank" >Colorlib</a>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
        </div>
      </div>
    <!-- for footer -->
    
        </div> <!-- for site wrap -->
            <!-- <script src="../cmsimde/static/chimper/js/jquery-3.3.1.min.js"></script> -->
            <script src="../cmsimde/static/chimper/js/jquery-migrate-3.0.1.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery-ui.js"></script>
            <script src="../cmsimde/static/chimper/js/popper.min.js"></script>
            <script src="../cmsimde/static/chimper/js/bootstrap.min.js"></script>
            <script src="../cmsimde/static/chimper/js/owl.carousel.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.stellar.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.countdown.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.magnific-popup.min.js"></script>
            <script src="../cmsimde/static/chimper/js/bootstrap-datepicker.min.js"></script>
            <script src="../cmsimde/static/chimper/js/aos.js"></script>
            <!--
            <script src="../cmsimde/static/chimper/js/typed.js"></script>
                    <script>
                    var typed = new Typed('.typed-words', {
                    strings: ["Web Apps"," WordPress"," Mobile Apps"],
                    typeSpeed: 80,
                    backSpeed: 80,
                    backDelay: 4000,
                    startDelay: 1000,
                    loop: true,
                    showCursor: true
                    });
                    </script>
            -->
            <script src="../cmsimde/static/chimper/js/main.js"></script>
        
<!-- 啟用 LaTeX equations 編輯 -->
  <!-- <script>
  MathJax = {
    tex: {inlineMath: [['$', '$'], ['\(', '\)']]}
  };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>-->
    </body></html>
        